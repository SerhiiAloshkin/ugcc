<html>
<head>
    <title>Google+ Java Quickstart</title>
    <script type="text/javascript" language="javascript"
            src="adminmode/adminmode.nocache.js"></script>
    <meta name="google-signin-requestvisibleactions" content="http://schema.org/AddAction" />
    <meta name="google-signin-cookiepolicy" content="single_host_origin" />
    <meta name="google-signin-callback" content="signinCallback" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="gwt:property" content="locale=ua">
    <script type="text/javascript">
        (function() {
            var po = document.createElement('script');
            po.type = 'text/javascript'; po.async = true;
            po.src = 'https://apis.google.com/js/client:plusone.js?onload=render';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(po, s);
        })();

        /* Executed when the APIs finish loading */
        function render() {

            // Additional params
            var additionalParams = {
                'theme' : 'dark'
            };

            gapi.signin.render('login', additionalParams);
        }

        function signinCallback(authResult) {
            if (authResult['status']['signed_in']) {
                // Update the app to reflect a signed in user
                // Hide the sign-in button now that the user is authorized, for example:
                document.getElementById('signinButton').setAttribute('style', 'display: none');
            } else {
                // Update the app to reflect a signed out user
                // Possible error values:
                //   "user_signed_out" - User is signed-out
                //   "access_denied" - User denied access to your app
                //   "immediate_failed" - Could not automatically log in the user
                console.log('Sign-in state: ' + authResult['error']);
            }
        }
    </script>

    <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

</head>
<body>
<!-- OPTIONAL: include this if you want history support -->
<iframe src="javascript:''" id="__gwt_historyFrame" tabIndex='-1'
        style="position:absolute;width:0;height:0;border:0"></iframe>

<!-- RECOMMENDED if your web app will not function without JavaScript enabled -->
<noscript>
    <div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
        Your web browser must have JavaScript enabled
        in order for this application to display correctly.
    </div>
</noscript>

<!-- TODO #02: insert login panel | start   -->
<div class="login-banner" align="right" id="loginPanelContainer"></div>
<!-- TODO #02:> end   -->

<br/>
<table align="center">
    <tr>
        <td>
            <h2 align="center">OAuth2 Google AppEngine Example from Software Engineering Candies</h2>

            <h2 align="center">
                <a href="http://www.sw-engineering-candies.com/blog-1/howtogetuserinformationwithoauth2inagwtandgoogleappenginejavaapplication">
                    How to get User Information with OAuth2 in a GWT and Google AppEngine Java Application?
                </a></h2>
        </td>
    </tr>
</table>

<br/>
<table align="center">
    <tr>
        <td colspan="2" style="font-weight:bold;">Please enter your name:</td>
    </tr>
    <tr>
        <td id="nameFieldContainer"></td>
        <td id="sendButtonContainer"></td>
    </tr>
    <tr>
        <td colspan="2" style="color:red;" id="errorLabelContainer"></td>
    </tr>
</table>
</body>
</html>
